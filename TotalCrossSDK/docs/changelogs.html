<h1>TotalCross 3.3</h1>
<h2>build ???</h2>
	<h3>bugfixes</h3>
		<ul>
			<li>
			</li>
		</ul>
	<h3>new features</h3>
		<ul>
			<li>implementing base 64 decode stream
				<ul>
					<li>check the examples at <a href='https://github.com/totalcross/totalcross-big-file'>GitHub</a></li>
				</ul>
			</li>
			<li>Android
				<ul>
					<li>using <a href='https://firebase.google.com/'>Firebase</a> for push messages in Android
						<ul>
							<li>download <em>google-services.json</em>, put in within the project and it will automogically works</li>
							<li>there is no reliable way <em>yet</em> to treat notifications in the app</li>
						</ul>
					</li>
				</ul>
			</li>
		</ul>
	<h3>deprecated</h3>
		<ul>
			<li>GCM is <a href='https://developers.google.com/cloud-messaging/'>deprecated by Google itself</a></li>
			<li>There is no longer use for <code>totalcross.sys.Settings.pushTokenAndroid</code></li>
		</ul>
<h2>build 3071</h2>
	<h3>bugfixes</h3>
		<ul>
			<li>avoiding overflow operations within Long.compareTo(Long)</li>
			<li>end of stream treated properly in zlib, returns -1 instead of throwing an exception</li>
			<li>iOS
				<ul>
					<li>fixes deploy to in-house distribution</li>
				</ul>
			</li>
		</ul>
	<h3>new features</h3>
		<ul>
			<li>implementing Class.getCanonicalName()</li>
			<li>added Autocloseable interface to TotalCross</li>
			<li>Window.isSipShown() tells wheter or not the keyboard is currently showing</li>
			<li>added InputStream</li>
			<li>totalcross.io.Stream can generate a InputStream</li>
			<li>added Reader</li>
			<li>added InputStreamReader</li>
			<li>added StringReader</li>
			<li>added Closeable interface</li>
			<li>added Flushable interface</li>
			<li>added Writer</li>
			<li>added StringWriter</li>
			<li>added StringBuffer.append(String, int, int) method</li>
			<li><a href='https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html'>try-with-resources</a> statement supported</li>
			<li>adding a SAX-like compiler for JSON, based on <a href='https://github.com/fangyidong/json-simple'>JSON-Simple</a> and its <a href='https://github.com/cliftonlabs/json-simple'>Cliftonlabs fork</a></li>
			<li>adding an instance method to show a tool tip to a Control</li>
		</ul>
	<h3>deprecated</h3>
		<ul>
			<li>trying to get mac address in Android 6+ will return a constant 02:00:00:00:00:00 due <a href='https://developer.android.com/about/versions/marshmallow/android-6.0-changes.html#behavior-hardware-id'>to provide users with greater data protection</a></li>
		</ul>
	<h3>known bugs</h3>
		<ul>
			<li>Class.getCanonicalName() doesn't return the canonical name, but defaults to Class.getName()</li>
		</ul>
<h1>build 3058</h1>
. fixed android installation (single apk and non-single apk)<br>
. fixed definetively full screen on android<br>
. increased adb install due time to 30 seconds<br>
. in SpinList, set alignment to center if is not vertical<br>
. added ImageControl.strechImage<br>
<h1>build 3055</h1>
. prevent NPE in AnimationBox when parent window is null<br>
. fixed Calendar's title not using the font set to Calendar.<br>
. fixed deploy for android without /p<br>
. stop throwing OutOfMemoryErrors when we receive low memory warning in iOS<br>
. added ipv6 support for iOS<br>
. Long implements comparable<br>
. Working around a bug with negative scale with BigDecimal<br>
. fixes compressed stream after updating a zlib<br>
. now Vm.tweak(TWEAK_AUDIBLE_GC, true) will make the device vibrate, since beep no longer works on many platforms<br>
. added AdMob support for TotalCross, using class totalcross.money.Ads<br>
. added Sound.toText, which converts speech to text.<br>
. fixed ZXing scanner not working with /p<br>
. made MessageBox buttons a bit smaller<br>
. changed MessageBox.onPopup to public<br>
. added Window.setOrientation, to force rotation. Currently works only on android<br>
. fixes return value for posix implementations when the host is not known or unreachable this caused the axtls library to hang during the connect<br>
. TCBase.tcz now includes the conduit packages<br>
. Changed how FileChooserBox handles answered files when multipleSelection is on: it returns now the checked files, or, if none, it returns the last selected item<br>
. increased check width area in FileChooserBox<br>
. set again the text for the Camera buttons since in android 4.x it was getting strange values<br>
. fixed Dolphin barcode not reading more than one code.<br>
. definitive fix to set application in fullscreen.<br>
. fixed Android deployment of files without /p.<br>
<h1>build 3037</h1>
. deprecated ZipFile This class was never fully implemented. Use ZipStream instead.<br>
. prevent SSLSocket getting stuck at the handshake<br>
. updated zxing to version 3.2.0 using zxing-android-embedded https://github.com/journeyapps/zxing-android-embedded/tree/2.x<br>
. fixes ssl connection getting hung when the connection is lost<br>
. set Switch.ANIMATION_TIME to 0 to disable animation<br>
. now obj.getClass() returns the same Class object for different objects of the same class type. This may solve some json parsing problems<br>
. fixed virtual keyboard flashing when moving from one edit to another, and also considering the wrong coordinates when pressing the screen with the keyboard being shown<br>
. show stack traces on exceptions on json<br>
. reverts team id used to build for iOS<br>
. changes the ehlo command to include the localhost address instead of "..." because the office365 smtp doesn't recognize it as a valid domain<br>
. fixed image being distorced when taking photo in landscape in ios<br>
<h1>build 3009</h1>
. fixed strange png warnings<br>
. fixed open of the tc.Help file using double-click on tc.jar<br>
. prevent problems when loading UI in a thread<br>
. fixed crash on ZipFile.<br>
<h1>build 3007</h1>
. fixed singleapk isFullScreen (again)<br>
. fixed getFreeMemory returning very small values in win32<br>
. ignore file is being used by another process in FileChooserBox.getSortName<br>
. fixed vm crash that occured when copying an object array to another array. if the gc was called during the memory move, it could break the thread in the mid of the pointer, thus resulting in an invalid memory location.<br>
. fixed crash that can occur when a thread copies an object array into another one and another thread calls gc<br>
. added lots of debug information to find why aborting during Camera.click.<br>
. removed printStackTraces for appcrashed<br>
. decreased wait time for bluetooth transfers<br>
. added a read timeout of 4 seconds to bluetooth read.<br>
. got rid of a console that appears on PNG library errors and warnings<br>
<h1>build 2999</h1>
. added TabbedContainerr.useBorder2, to use an alternative tab border<br>
. added totalcross.ui.BorderContainer, an auto-resizable container with a title and round border, used in tc.Help<br>
. now ComboBox use clearValueStr if set, which calls setSelectedItem.<br>
. added totalcross.ui.ShadedButton, used in tc.Help<br>
<h1>build 2985</h1>
. fixed error when loading a gif file using Vm.getFile. Since gif is converted to png, the resulting png size was not being written in the tcz file.<br>
<h1>build 2980</h1>
. fixed crashes related to Image usage on BulkImageLoader on Android and iOS. Added a flag to BulkImageLoader to stop the thread, which is called in ImageBookSample.onRemove<br>
. fixed crashes on iOS where there's low memory.<br>
. Integer4D implements Comparable<Integer4D><br>
. added tc.Help. to open it, double click tc.jar<br>
. prevent a buffer allocation on textore load to decrease memory fragmentation<br>
. updated minizip from zlib 1.2.8<br>
. removed some alerts from sdk<br>
. forgot to correctly handle aborts on jpeg when i updated it<br>
. decreased time to wait to install apk using /i android<br>
. now when the total texture memory reaches 100MB, we release all old textures. this is needed because there's a bug in Android that it will abort the application if there's no more texture memory (instead of returning an error).<br>
<h1>build 2959</h1>
. updated libraries: jpeg (9B), png (1.6.23), zlib (1.2.8).<br>
. fixed memory crashes because these libraries were not using out internal thread-safe malloc routines.<br>
. replace an alert about ("error on zip") by a debug<br>
. added Settings.abortedOnLastRun, so you can notify yourself when the last run has aborted<br>
. only print gc debugs if something has changed<br>
<h1>build 2941</h1>
. now android and win32 no longer use dlmalloc. win32 now uses the 'large address aware' trick to increase memory avaibility<br>
. prevent crash if settings not yet initialized<br>
. changed Settings.iosCertDate to show the mobile provision expiration date.<br>
. forgot to close file in FileChooserBox<br>
. clear previous error on opengl to prevent false positives<br>
. dump less information about gc<br>
. prevent crash if object properties is null<br>
. prevent memory corruption in compressedStream<br>
. added Vector.qsort(sortType). now Files.listFiles uses SORT_STRING_NOCASE sort to sort the files<br>
. fixed OutOfMemoryError being replaced by ClassNotFound<br>
. ignore mem checks when running pointer verification<br>
. fixed images being collected before being used when creating new instances<br>
. added getUsedMemory, to find the exact memory usage of an app<br>
. fixed native ZLib.DEFLATE throwing too early an "End of Stream" Exception<br>
<h1>build 2926</h1>
. added push notifications to Android. See the the <a href='http://www.totalcross.com/blog'>TotalCross blog</a> for a tutorial<br>
. dont use the wheel to scroll the tabs of a tabbed container<br>
. fixed ZLibStream not throwing an exception when the stream end is reached<br>
. added FileChooserBox.showInitialPathOnly<br>
. now in android /sdcard can be used as /sdcard0, /sdcard1, ... /sdcard9. Use File.isCardInserted(slot) to check the availability.<br>
. added Settings.iosCertDate<br>
. now FileChooserBox uses sdcard<n> in the root list. Also fixed roots list selection<br>
. fixed concurrency problem when loading data from tcz in multiple threads<br>
. fixed concurrency problems in GC. Also made GC more aggressive. The program may slow down, but the memory usage will be lower and will avoid crashes<br>
. updated dlmalloc to 2.8.6 (2012)<br>
. prevent crash if class is not found<br>
. updated sqlite to 3.13.0<br>
<h2>TotalCross 3.2</h2>   
<h1>build 2878</h1>
. added support for primitive Classes in JsonFactory. thanks to Jonatas Schuler<br>
. now tc.Deploy -wince creates non-compressed cab files, and -winmo creates compressed ones. old wince devices do not support compressed cab files<br>
<h1>build 2876</h1>
. read the debugconsole before user deletes it so it can be sent to bugreport system<br>
. wait up to 200 minutes trying to send the packet for bugreport<br>
. added barcode support<br>
. now using 0 on control animations will show the control at once (useful for TopMenu)<br>
. fixed label not being shown when it contains just text without icons<br>
. prevent NPE when using bad fonts on javase<br>
. fixed printing on MPT bluetooth printers. Now the MonoImage is printed correctly. Note that the image width is 576<br>
. added Settings.macAddress. currently works only on android<br>
. added MultiEdit.caption and captionColor (as in Edit). Note that the text is NOT splitted<br>
<h1>build 2870</h1>
. added Date.minValidYear<br>
. using some extra memory at the end to try to avoid buffer overruns<br>
. fixed Tree when an initial path is given. On windows, it now expands from the drive letter<br>
. fixed deployment for android when using full screen<br>
. Fixed FileChooserBox: dont print the stack trace if trying to get info from a system file<br>
. fixed icon support for standalone android apps<br>
. changed serial number on iOS to not use the Ads Identifier, since Apple now rejects any app that uses it but does not show advertisements<br>
<h1>build 2855</h1>
. removed unused jars from android build. apk size decreased 200k<br>
. deprecated ALTERNATIVE_DEBUG<br>
. avoid UI problems if grid is too small<br>
. Fixed Bar during screen rotation when it contains just the title<br>
. fixed keyboard support for Windows 8/10 tablets. now the Settings.isVirtualKeyboard is set for these devices, and we dynamically invoke the keyboard and close it accordingly.<br>
. fixed full screen on Android when not using single apk (/p)<br>
<h1>build 2847</h1>
. fixed crashed events being sent without a crash really occured. Now we control the crash using a file at app's folder "appCr4shed"<br>
. downgrading ios to 8.4 to fix deployment using iTunes<br>
. fixed build of 3.10.0 sqlite release to wp8<br>
. prevent npe in HtmlContainer<br>
. prevent aioobe when using Edit.textAlign=FILL and an empty string is used<br>
. fixed Label not respecting insets when align = FILL<br>
<h1>build 2841</h1>
* fixed android 6. android removed support for dlsym<br>
. fixed memory leak in ios<br>
. added Settings.activationKey and bugreportUser<br>
. added SpinList.allowsNoneSelected<br>
. fixed scroll not allowing to -1<br>
. added ListContainer.fontNames<br>
. added a new constructor to TopMenu.Item(Control,Control), so you can use a Label with a FontAwesome char as the icon (or anything else)<br>
. added TopMenu.backImage/backImageAlpha<br>
. added Image.getClippedInstance. Improved TopMenu.backImage to keep only a copy of the visible area of source image<br>
. added Image.getPath. Does not work for multiframe images.<br>
. fixed vm error when loading non-unicode strings greater than 255 chars<br>
. fixed Label not correctly respecting the insets when breaking the text<br>
. fixed TopMenu.onBoundsChanged's screenResized parameter always being set to false even on screen resize event<br>
. fixed Edit when using Caption with PASSWORD fields<br>
<h1>build 2804</h1>
. fixed Button's translucent shape not working on windows.<br>
. increased iOS target version from 5.1.1 to 6.0<br>
. fixed some samples when running on desktop<br>
. updated applet deployer to use iphone instead of blackberry and treo<br>
. fixed blurred font on highres devices<br>
. fixed error ITMS-90475 when uploading to appstore<br>
. removing leaks from ios<br>
. fixed CFBundleResourceSpecification no longer exists on ios 9<br>
. added FileChooserBox.newestFirst, to sort files by last modified files first<br>
. use newestFirst on Camera<br>
. fixed ListContainerEvent not working when using Listeners<br>
. added MultiListBox.tipDelay<br>
. fixed deploy for WP8<br>
. fixed crash on ios<br>
<h1>build 2787</h1>
. fixed deployer for WP8 not correctly handling pkg files<br>
. fixed /i wp8 not working. now if an error occurs, i dump it to console<br>
. fixed Zebra printing on TotalCross 3<br>
. added etc/tools/xap/XapDeploy.exe, which installs the xap using an user interface. The xap can also be installed using:<br>
. fixed deployer for wp8 due to bad config number in appxmanifest<br>
<h1>build 2786</h1>
. fixed incorrect font size being generated with FontGenerator. fixed font sizes when using no-antialiased fonts. all fonts that do not have AA must end with "noaa" suffix, otherwise it will be drawn incorrectly<br>
. fixed support for non antialiased fonts on desktop<br>
<h1>build 2779</h1>
. fixed version information on wp8 deploy<br>
. fix TopMenu problem when the container is on portrait, then landscape, then closed, then portrait, then open<br>
. now in tc.Deploy you can use "/r %key%" to load key from an environment variable. useful for presentations<br>
. windows store requires that the back key work on all applications<br>
. added ArcChart (a pie with a filled circle inside). added sample to TotalCrossAPI / ChartSample<br>
. fixed drawPie not being correctly drawn when it was first shown in a ScrollContainer with a lower part covered and then it was scrolled up. The cache was not considering the vertical clipping<br>
. throw GPSDisabledException if the gps is disabled during updateLocation<br>
<h1>build 2773</h1>
. fixed Window not being able to use shaded background<br>
. fixed Button's getPreferredHeight when translucent shape if CIRCLE<br>
. downgraded sqlite to 3.8.1 to fix problems in wp8<br>
. fixed bundle identifier when deploying for ios<br>
. fixed crash on android 4.2.2 due to (wrong) local ref dealloc<br>
. added Settings.iosCFBundleIdentifier<br>
. on new File(String), dont add appPath if path starts with /<br>
. fixed delay when running on JavaSE<br>
. added debug messages to Convert.toDouble to help finding errors.<br>
. fixed deadlock that occurs when sqlite3 closes itself before some ResultSets<br>
. added Vm.printStackTrace(message)<br>
. added Settings.imeis, which returns two imeis for dual-sims android devices<br>
. changed Checkbox images used in PopupMenu to use the ones from Resource (to allow customization)<br>
. implemented Sound.tone for Hand Held WM devices. removed deprecation<br>
. added MonoImage.doClip, to enable printing image widths above 384<br>
<h1>build 2761</h1>
. removed final from TopMenu.initUI so you can customize it<br>
. fixed MultiButton.setEnabled<br>
. added FontAwesome to TotalCrossAPI and changed some screens to use it. Its not part of TotalCross, but you may add it if you want; just copy it from TotalCrossSDK\src\tc\samples\api\FontAwesome.tcz<br>
. added explicit AwesomeFont sample to show all chars<br>
. added SQLiteUtil constructor that receives a Connection<br>
. fixed WP8 not launching app after the keyboard is open<br>
. fixed landscape touch positions not corresponding to screen positions on iOS<br>
. fixed Label's getPreferredWidth not considering shadowed text<br>
. fixed Switch appearance on ipad<br>
. fixed ssl on 64-bit iOS<br>
. prevent npe when there's a problem in the jar during deploy<br>
<h1>build 2752</h1>
. don't use registration when running in a browser, so you don't have to show your key to other users<br>
. added optional constructor to Button class to let you specify the border<br>
. improved AccordionContainer's Caption to let you specify a button that will be used as + and -<br>
. added a standard way to map special classes to totalcross in tc.Deploy. now you can use java.math.BigDecimal/Integer and they will be mapped to totalcross.util.<br>
. fixed NPE make it work when on a ScrollContainer (calling parentWindows's reposition)<br>
. fixed AccordionContainer running in a ScrollContainer<br>
. now in Android, when searching for /sdcard replacement, we search in other folders for one that's writable<br>
. added SQLiteUtils.existsIndex<br>
. fixed activation of applications that are MainClass or services.<br>
<h1>build 2747</h1>
. fixed printer samples not loading the test image<br>
. Added support for MTPPrinter. Changed printer samples to share a base class, PrinterSampleBase. BluetoothPrinter now accepts also a Stream.<br>
. Fixed File.copy: making sure files are closed, using finally<br>
. fixed floating menu button on android 5<br>
. added Control.nextTabControl<br>
. when making a new java socket for ssl, set its timeout with the same value of the received tc socket.<br>
. added a method in Random to get the seed<br>
. Removed itnuesmetadada.plist, which is disallowed<br>
. fixed reflect.Array.set(Object)<br>
. added JSONSample to TotalCrossAPI<br>
. added File.readAndDelete<br>
. added the build number to the javadoc<br>
. Using the hierarchy from java 1.7 ReflectiveOperationException<br>
. added ScrollPosition.setNeverShow<br>
. Removed gap at top of application when it was calling super("app name", NOR_BORDER).<br>
. fixed Method.invoke not allowing to use null as a parameter<br>
. shows the time when parsing the exception on SQLite<br>
. changed PSLogin to use PARENTSIZE on x/y to let the ui work fine during rotation<br>
. added drawCircleAA. changed fillRoundRect accordingly.<br>
. send android's volume up/down keys as page up/down<br>
. added MultiListBox.localItemsText<br>
. added option /fastscale to totalcross.Launcher, used to improve scaling speed<br>
. fixed /storage paths on android being prefixed with Settings.appPath<br>
. fixed Bar when a single button is added; now the button is placed at right<br>
. now tc.Deploy excludes java files from tcz when a jar file is used<br>
. added gps velocity test to TotalCrossAPI<br>
. implemented the new Switch component. Added sample in TotalCrossAPI<br>
. improved fillRoundRect. now Graphics.alpha is public so you can set it for the value you want<br>
. added translucent UI to TotalCross and a sample to TotalCross API. Still have to add translucency to other controls<br>
. added AccordionContainer and sample<br>
. fixed MultiButton not resizing on rotation<br>
. fixed Bar when it is opened in landscape and a rotation occurs<br>
. fixed Class.getSuperClass not working<br>
. now if GPS is disabled, GPSDisabledException is thrown<br>
. updated Windows CE cabwizard.<br>
<h1>build 2694</h1>
. added Method.getParameterCount()<br>
. added Class.cast<br>
. added interface TextControl for controls that have setText/getText<br>
. optimized Convert.tokenizeString(String,char[]) - for small arrays, a loop is faster than IntHashTable. removed global variables used on both tokenizeString<br>
. trying to limit the size of grid's column resize<br>
. fixed getComponentType not working correctly for Objects<br>
. removed debugs from bluetooth<br>
. updated iOS native methods table<br>
. added an interface to PathAnimation to let you set the position of the control<br>
. added animation to TabbedContainer when the user clicks on the tab. can be disabled using animationTime field<br>
. fixed some problems in reflection<br>
. moved ImageBookSample.ImageLoader to a class BulkImageLoader. The DynImage was also moved to inside BuldImageLoader.<br>
. fixed ToolTip not working for dynamic tips<br>
. added a constructor to Label to let specify the fore color and if font is bold.<br>
. changed positioning of X and Y when using PARENSIZE: now it centers the control at the given position. also added PARENTSIZEMIN (place control at left) and PARENTSIZEMAX (place control at right)<br>
. improved TCProductStore<br>
. fixed small glytch when using Holo in an Edit<br>
. fixed opening pdf on desktop on PDFWriterSample<br>
. removed extra resultset close from SQLiteUtil<br>
. Now external viewers sample works on all platforms Added Vm.exec(viewer/url) support for wp8<br>
. now Sound.play works also for Windows CE (wav)<br>
. fixed "device/" not working for wince<br>
<h1>build 2678</h1>
. fixed Bar lines<br>
. now PARENTSIZE can be used to specify X/Y, E.G., PARENTSIZE+25 will place at 1/4 parent's width (or height)<br>
. now if you use the wrong constant in x,y,width,height, TC will warn you about it instead of just failing silently<br>
. added ImageList sample<br>
. fixed incorrect images when returning from camera on WP8<br>
<h1>build 2676</h1>
. larger buttons on BTTransfer<br>
. added a way to ignore the cross-reference in PDFWritter, which seems to be buggy in some pdfs.<br>
. now Bar.Button sends the press event to itself so you can add a press listener to it instead of capturing at the Bar level.<br>
. starting to create the new user interface flavor: Holo(graphic) from Android 5<br>
. added Edit.captionColor and simplified FBEdit<br>
. dont let the grid grow too much when resizing the column<br>
. Added Button.roundBorderFactor<br>
. added Edit.captionIcon<br>
. adding new sample TC Product Store<br>
. fixed deployment in wp 8.1<br>
. now Time.inc also changes the day/month/year fields if change occurs above 1 day<br>
<h1>build 2670</h1>
. fixed bluetooth on Android 5.<br>
<h1>build 2665</h1>
. fixed black screen on wp 8.1<br>
. shows SDK's expiration date message only once<br>
. fixed ImageLoader (from ImageBook) to release memory since some messages are being held in memory<br>
. fixed memory leak when you try to free the image when not in the main thread.<br>
. fixed keyboard not closing on first click on iOS<br>
. added Settings.isWindowsCE, which excludes WINDOWS_PHONE. Changed all api to use isWindowsCE. This fixes the font of WP which was being set incorrectly<br>
. added TopMenu.scInsets<br>
. fixed font sizes on wp 8.1<br>
. migrated to wp 8.1<br>
. added totalcross.ui.chart.Velocimeter gauge (sample at TotalCrossAPI)<br>
. fixed GPS and Camera no longer working on iOS 8<br>
. You must install GoogleMaps on iOS 8 to let TotalCross' map work.<br>
<h1>build 2647</h1>
. fixed bug in Android that was returning an invalid value on Settings.daylightSavingsMinutes.<br>
. fixed some problems when resuming a Windows Phone application<br>
. added a better message to tc.Deploy when no internet is available<br>
. added SpinList.setSelectedItem(index, sendPress)<br>
. new FaceBook-like sample (under development)<br>
. added Button.shiftOnPress<br>
. made Edit.hasFocus protected<br>
. added Ruler.dots<br>
. added ComboBox.equals(String[]) which returns true if the contents match<br>
. added RadioGroupController.sendPressOnLast<br>
. added ComboBox.setSelectedItem(Object name, boolean sendPress)<br>
. prevent NPE in Button.press if button was not added to parent<br>
. definitive fix for: fixes trying to print "D\u0101" (where the font does not have \u0101 available)<br>
. shows the application's id for Windows Phone when deploying<br>
. fixed FileNotFound that was occuring after a failed registration<br>
. added back Settings.bugreportEmail<br>
. added TabbedContainer.TABS_NONE<br>
. removed mem info from ThreadSample<br>
. fixed crash on activation on iOS 8.x (64-bit vm)<br>
. fixed inverted background when using light theme in WP8 <br>
. fixed problem of free version not running on ios and android<br>
<h1>build 2636</h1>
. added photo auto-rotation for Camera. works best with native camera.<br>
. definitive fix for photo duplication, if the user don't press Cancel. works on all android versions<br>
. fixes trying to print "D\u0101" (where the font does not have \u0101 available)<br>
. removed adding the Socket to ConnectionManager array, since this was used only for Palm OS. it was causing a NPE when opening lots of sockets in multiple threads<br>
. fixed GPS crashing on WP<br>
. fixed black screen on WP8<br>
<h1>build 2623</h1>
. the platform fields must be final otherwise the compiler will not put them into a single value and therefore the Settings.fullScreenPlatforms will not work<br>
. fixed Camera.NOCOPY not working on Android 2.3<br>
<h1>build 2611</h1>
. fixed memory problems on camera sample<br>
. trying to bypass ios 8.x known bug when using camera zoom and flash<br>
. added Control.keepEnabled<br>
. now when the application is minimized, we don't run any timers at all. This prevents a problem in Android when you open an Edit, place the cursor, and minimize the application, the memory was being increased until the application crashes. If you want to update the application while it is minimized, use a thread instead of a timer.<br>
. trying to solve unusable exception error codes on SQLite<br>
. added support for playing MP3 on Win32 using Sound.play<br>
<h1>build 2609</h1>
. on ZLib's EOF return -1 to prevent infinite loop in DataStream.readBytesInternal<br>
. deprecated Settings.dontCloseApplication<br>
. added (currently for Android and iOS) a way to take photo from the gallery. Use cameraType = CAMERA_FROM_GALLERY. changed TotalCrossAPI to use it.<br>
. on android 2.3 the code to delete the image from gallery does not work, so we just ensure that we delete the file<br>
. removed animation during mouse wheel scrolling<br>
. fixed ResultSet error when reading an empty time<br>
. fixed FontGenerator's interchar spacing.<br>
<h1>build 2591</h1>
. fixed inifinte recursion in Throwable<br>
. added a meaningful message if user passed a wrong registration key<br>
. now showing the command line on Deploy<br>
. now checking if user passed the class name in wrong order in tc.Deploy<br>
. fixed primitive types not extending Number. This fixes problems on Json<br>
<h1>build 2588</h1>
* fixed support for android 5. updated adb to android 5<br>
* fixed totalcross on 64-bit iOS, required for deploying on appstore<br>
* now tc.Deploy use a appicon.png (256x256) to generate all icons. now Android has new icons sizes for better resolutions. deprecated appicon.gif<br>
* added a simple PDFWritter to TotalCross and created a sample at TotalCrossAPI / util / PDF. thanks to Javier Santo Domingo<br>
. now GoogleMaps will throw a NotInstalledException when waze is not found. still have to implement it<br>
. now if you use USE_WAZE and waze is not installed, an NotInstalledException is thrown.<br>
. Now Toast.show already splits the text using Convert.insertLineBreakBalanced.<br>
. changed TotalCrossAPI to let the user choose if he want to use the native camera from TotalCrossAPI<br>
. added new icons to ios 7. removed deprecated artwork<br>
. updated sqlite-jdbc to 3.8.7<br>
. caution when using multiple exceptions in a single statement!<br>
. changed compatibility to java 1.7<br>
. prevent a bug on TotalCrossAPI when you press back with the Calendar open and the main menu opens inside the Calendar<br>
. added Convert.removeAccentuation (valid for unicode range <= 255). GoogleMaps.showRoute must not have accentuation chars on its address.<br>
. fixes green screen that occurs when the keyboard is open and the user turns off the device<br>
. fixed crash when trying to run a class without extending MainWindow nor MainClass<br>
. fixed /i android since adb no longer supports adb install *.apk<br>
. fixed Radio when the height was greater than the preferred height, the text would be drawn over the ball<br>
. added TabbedContainer.setCaptions<br>
. improved Time to correctly parse a time if it has less parameters than expected<br>
. added BACKGROUND_SHADED_INV to Container's backgroundStyle<br>
. added Button.fillWhenPressedOnTransparentBackground<br>
. added Container.setPressedColor, isPressed, setPressed.<br>
. added some explanation messages when throwing NullPointerException and OutOfMemoryError at tcvm<br>
. Image.getPixelRow is now public<br>
. now Control.eventsEnabled is public<br>
. fixed ToolTip's unaligned text. now it auto-splits the text without \n<br>
. fixed Camera's click on desktop not using image preview on FileChooserBox. added fcbTitle so you can customize the FCB's title<br>
. now Convert.toDouble(String) throws an exception if the string is empty, as in Java SE<br>
. fixed interchar spacing for custom fonts<br>
. deprecated some Settings.app* stuff. improved comments telling which platforms use the remaining values.<br>
. fixed problem that prevents more than one TotalCross app on WP8<br>
. fixed CalendarBox with a pressed value when it was being reused<br>
. added SQLiteUtil.getInt(ResultSet)<br>
. fixed wince scanner dlls not being packaged. now in release they are outputted to the dist/vm/wince folder<br>
. added Image.getCopy<br>
. added Convert.equals(byte[], byte[])<br>
. added RadioGroupController.setSelectedIndex(index, sendPressEvent)<br>
. now SQLiteUtil.getStrings closes the ResultSet<br>
. added HashMap getOrDefault<br>
. fixed GPS not working on WindowsPhone<br>
. prevent npe on HttpStream if there's no definition of char set<br>
. added a way to find if an exe is running in win32 using Vm.exec<br>
. now Settings.isWindowsDevice includes Windows Phone<br>
. fixed Toast's width when uiAdjustmentsBasedOnFontHeightIsSupported is being used. Added Toast.extraW so you can specify the extra width in multiple of fonts height.<br>
. iOS  - added support for arm64 binaries and universal (fat) binaries<br>
. fixed problem when an exception during the GPS initialization was preventing a new GPS instance from being created<br>
. fixed OutOfMemory errors that occurs when String.replace(String,String) was used.<br>
. added Throwable.initCause / getCause. improved output when a cause is given<br>
. added new Time(char[]) to parse a sql time<br>
. now using the new Time constructor to better parse times. changed exception thrown to use the constructor with the cause parameter<br>
. added Vm.getStackTrace()<br>
. removed static StringBuffers to fix concurrency problems in the API<br>
. added Grid.captionImages, to mix image and string<br>
. removed TestFont from FontGenerator<br>
. fixed JSONObject throwing class not found for java.io.Serializable<br>
<h1>build 2511</h1>
. removed many outdated Fn functions that were still mapping to Palm OS. now F11 takes a screenshot and saves to disk. Note that /scale does not affect the screenshot.<br>
<h1>build 2509</h1>
. Fixed ScrollContainer: if we're scrolled in a rotation but we don't need scroll, move to origin instead of keeping it scrolled<br>
. Now if you use a Control in Tree's Node.userObject, it will draw the control instead of drawing a String<br>
. Now the ComboBox's popup uses the same font of the ComboBox.<br>
. Enhanced Tree in some ways: 1. lineH now is deprecated, use setLineHeight and getLineHeight; 2. fixed items not being drawn correctly when not using Android ui; now Node.userObject can be a Control or a Container (however, Edit and MultiEdit are supported)<br>
<h1>build 2503</h1>
. fixed NPE when using Vm.safeSleep at the application's constructor<br>
. prevent hour from being under 0 in Time<br>
. Fixed SQLite.getTime on JavaSE<br>
. fixed two things: 1. images getting too big when using imageHeightFactor on tall buttons 2. disabled image not being regenerated when the bounds are changed<br>
. now we try to bypass OutOfMemoryErrors in all places that use a NinePatch image.<br>
. added NinePatch.pressColorAlgorithm<br>
. added Image.writeFrameCount<br>
. prevent problems if Image's resize results in width/height under 0<br>
. optimized RETokenizer.split that was using recursion to avoid using an array. The array is 10% faster than recursion. Also, now String4D checks if the argument passed in the split is a regex and if not, use Convert.tokenizeString, which is 5 times faster<br>
. fixed crash that will occur if a method is called recursively and trigger a call stack increase. (changed the pointer to a difference because when the call stack reaches the limit, it will not change all pointers since this method is called recursively)<br>
. changed the way to use the native camera application in Android. now use Camera.cameraType with one of the 3 constants: CAMERA_CUSTOM (default), CAMERA_NATIVE (android's native) or CAMERA_NATIVE_NOCOPY (android's native and delete copy from gallery)<br>
<h1>build 2498</h1>
. Now device/ maps to Settings.appPath on JavaSE and Win32. this fixes a problem of creating chimes.mp3 at the root of the current drive on JavaSE<br>
. now if you use Vm.exec with "youtu.be" or "youtube" it opens the video directly in the youtube app<br>
. fixed SpinList's gray area not working<br>
. updated javadoc for better explain the Settings.appBuildNumber<br>
. now if using noras, Settings.activationId equals to "NO ACTIVATION";<br>
. fixed all primitive type wrappers toString method<br>
. improved ControlBox javadocs. now if prefW is FILL, a small gap is added between the control and the borders.<br>
. added a translucent gray background to ios X button on webview<br>
. Now in Bar, if you addControl a single label, it will take the whole Bar's rectangle.<br>
. added Control.ignoreInsets. Used in Bar so you can place a Bar at bottom and top and it will snap to parent's size when rotating.<br>
. added Bar.landscapePrefH and portraitPrefH, so you can choose the preferred height when on portrait or landscape<br>
. make sure that the folder exists when writting the tcz<br>
. fixed crash when sliding unicode fonts in a container<br>
<h1>build 2490</h1>
. Added EnumSet.<br>
. added MouseEvent.MOUSE_WHEEL event. added Settings.scrollDistanceOnMouseWheelMove. now the mouse wheel automatically scrolls all the Scrollable controls under the mouse position on Win32 and Java.<br>
. now Vm.exec("viewer") works for win32 and JavaSE to open an url without using cmd<br>
. added MultiEdit.cutText<br>
. added SpinList.replaceChoices<br>
. added ScrollContainer.autoScroll to automatically scroll the container when an item is clicked. added hsIgnoreAutoScroll: Defines a list of classes that will make autoScroll be ignored.<br>
. Check: dont erase background if transparentBackground is true<br>
. now GoogleMaps.showAddress receives a flag, and one of the flags is to use WAZE to show a route to a destination address. works on iOS and Android<br>
. added InputBox.setEdit<br>
. added a few functions do sqliteutils<br>
. Implemented Array.clone().<br>
. fixed File's lock on java working only when mode was READ_WRITE; now works also on CREATE*<br>
. added Edit.getDefaultCurrencyMask<br>
. added TabbedContainer.unselectedTextColor<br>
. added SpinList.choicesLen<br>
. added Graphics.getClipWidth/Height<br>
. now in win32 and JavaSE when closeButtonType is NO_BUTTON, an SK_MENU key is posted to the event queue.<br>
. now when a field is not found in the vm, we throw a NoSuchField error instead of the ClassNotFoundError<br>
. fixed problem of activation not working on tc3 when the tcz was splitted.<br>
<h1>build 2472</h1>
. Corrected areClassesCompatible() when both parameters are arrays.<br>
. Finished EnumMap.<br>
. fixed version2int converting 2.9 to 290. now it correctly converts to 209.<br>
. Fixed ImageControl.borderColor not working on OpenGL devices. now the border is drawn around the control instead of drawing around the image.<br>
. added support for showing pdf (and also doc,xls,etc) on iOS using Vm.exec. External viewers sample fully working on iOS<br>
. fixed ListContainer.ITEM_SELECTED_EVENT not being sent to the listener.<br>
. now we ensure that, if the tcz is splitted, the main class is stored in the first tcz.<br>
<h1>build 2470</h1>
. now we store the appSettings stuff in files in win32. Windows 8 blocks any write to the HKLM registry, so we were unable to use it in such OS<br>
. included new gif files in tc.jar<br>
. trying to prevent OutOfMemory errors halting the VM when drawing listboxes<br>
. added Bar.addControl/addButton(Control c, boolean atRight); removed buttonAlign. fixed title not respecting the fore and back colors<br>
* now TotalCross supports (and requires!) Java 8.<br>
<h1>build 2467</h1>
. fixed native 8bpp font support for unicode chars<br>
. added Class.getSimpleName<br>
. now Image.getFrameInstance restores the previous selected frame.<br>
. added Spinner(Image) and Spinner.setImage, so you can create spinners like those from http://preloaders.net/en. Added Bar.createSpinner(Image). Added a triplex.gif to SpinnerSample<br>
. added ListBox.CustomDrawingItem, so you can delegate the painting to another class<br>
. added Control.safeRepaintNow to make sure that the Spinner will update the screen even when running in a thread<br>
. now Vm.sleep tells Windows that we are not dead for any value for millis, and not just when millis = 1<br>
. added File.read() to read its contents<br>
. now tc.Deploy automatically increments a build number that can be retrieved using Settings.appBuildNumber(). Just create a file named tcapp.prop at a parent folder from where you call tc.Deploy. This file will be filled with the build.number; you may also add other info to this file, which can be later retrieved using Settings.appProps.<br>
. changed the internal spinners (ANDROID and IPHONE) to gif animated ones. added a new SYNC spinner. improved the Spinner sample. improved the Spinner javadocs explaining how to generate new ones.<br>
. improved Camera's javadocs showing how to use the external camera.<br>
. If you turn on automatic build number increment (with appProps) and the appVersion ends with a dot, during deploy the build number will be appended to the appVersion. For example, if appVersion is "2." and the current build number is 103, deploy will change the appVersion to "2.103" during deploy. To see the version that will appear, use at your application's constructo: <code>Settings.appVersion += Settings.appBuildNumber();</code><br>
. fixed (again) date/time support on sqlite. now working with between function. added comments about date/time usage in SQLiteUtil<br>
<h1>build 2456</h1>
. fixed support for unicode 8bpp unicode fonts on native code.<br>
. now Camera.getSupportedResolutions returns a sorted array.<br>
<h1>build 2450</h1>
. fixed date/time handling in sqlite. now they are stored as string.<br>
<h1>build 2446</h1>
. preventing crash on fillStackTrace when address is not a multiple of 4<br>
. fixed npe when there's no extras in tc.Deploy<br>
. added a way to generate 4-bpp fonts in FontGenerator<br>
. fixed support for unicode 8bpp unicode fonts on Java. Still have to fix on device<br>
. fixed encoding not being used to retrieve data from HttpStream<br>
. added SQLiteUtils.getString with an optional argument for the decimal places<br>
. fixed a black screen that appears when MainWindow.exit is called and you try to run the program again<br>
. fixed crash when multiple threads were trying to resize and load fonts<br>
* now Control.enabled is private. Use isEnabled to query the value; for extension Controls that access the enabled field, use Control.internalSetEnabled. Added keepDisabled to override the enabled state. This is useful if you want to keep a control disabled in a TabbedContainer while enabling/disabling the rest of the controls<br>
. fixed /p not working for wince<br>
. fixed crash in ios that causes SAV to abort the thread after synchronizing the photos<br>
. fixed problem in tc.Deploy when the path comes with spaces<br>
. keep all tczs at the same parent folder in the ipa<br>
. now using target 1.7 to build the javadocs<br>
. fixed NPE in SQLiteUtil when date or time is null<br>
<h1> build 2444</h1>
* now in tc.Deploy the tcz is automatically splitted when it reaches the methods and fields limits. You can pass a huge jar file and tc.Deploy will split it automatically into some tczs.<br>
* upgraded compiler and source level support to Java 1.7, including enum, switch with String, for each, and generics.<br>
* added support for the following classes in TotalCross: AbstractCollection,AbstractList,AbstractMap,AbstractQueue,AbstractSequentialList,AbstractSet,ArrayList,Arrays,BitSet,Collection,Collections,Comparator,ConcurrentModificationException,Deque,Dictionary,Enum,Enumeration,HashMap,HashSet,IdentityHashMap,InvalidDateException,Iterator,LinkedHashMap,LinkedHashSet,LinkedList,List,ListIterator,Map,NavigableMap,NavigableSet,NoSuchElementException,PriorityQueue,Properties,Queue,RandomAccess,Set,SortedMap,SortedSet,TreeMap,TreeSet.<br>
* Note that Vector and Hashtable does not support generics; use ArrayList and HashMap instead.<br>
* added many more methods from String and StringBuffer. Didnt add methods that uses CharSequence. Also, methods that use Regex will be fixed later.<br>
* added clone support (except for arrays).<br>
* added json support<br>
* added back Windows CE/Mobile support (only ARM processors).<br>
* fixed many crashes when using sockets, sqlite and zlib on concurrent threads. fixed some java memory leaks<br>
* added some new traces to Vm.tweak to help finding memory leaks and also to print methods being called; see comments below.<br>

. Avoid using the awt toolkit when running on headless environment (without graphical interface).<br>
. fixed dirty values being returned when running into a native method. this was resulting in NoSuchMethodError being thrown when referencing "xxx.class"<br>
. fixed camera's flash not working on some devices<br>
. added ListBox.selectLast/setSelectedIndex with an optional sendPressEvent<br>
. added a new sample for TabbedContainer, using bullets instead of tabs<br>
. fixed MenuBar's background color when popColor is -1<br>
. now tc.Deploy throws an exception if Settings.versionStr contains non-digit nor dot.<br>
. added Graphics.drawThickLine<br>
. decreased default distance of selected pie<br>
. improved drawThickLine. now using on LineChart<br>
. fixed OutOfMemory errors on Windows Phone when dealing with images<br>
. fixed fade animation on wp8<br>
. added support for playing mp3 on wp8. changed sample.mp3 to something smaller (300 -> 30kb). changed MediaSample to always write the mp3 file. changed tc.Deploy to include referenced mp3 files. note that the mp3 file was not actually played on our nokia 520 phone, but the mp3 was correctly loaded (seen that Track contains a 2 seconds mp3 file)<br>
. added SQLiteUtil.getStrings(sql)<br>
. now we use dlmalloc over dlmalloc on android. This seems to fix several memory errors that was aborting the vm.<br>
. added support for x/y dpi, romSerialNumber, romVersion, device id, virtual keyboard and free memory for WP8<br>
. added RadioGroupController.setSelectedItemStartingWith<br>
. fixed SQLiteUtils.getStrings(sql)<br>
. added a way to exit the AndroidUI (for debugging purposes), by pressing the first button of ButtonSample 10 times<br>
. allow String.replace work without CharSequence<br>
. now HttpStream.badResponseCode is public<br>
. added map support (showAddress, showRoute) to Windows Phone. fixed GoogleMapsSample to handle wp and ios<br>
. create the folder Camera.initialDir if it does not exists<br>
. fixed memory corruption on fonts.<br>
. now Bar.addButton returns the button's index<br>
. added Listbox.drawBorder<br>
. fixed buffer overrun when throwing NoSuchMethod errors<br>
. fixed ToolTip sending a press event because the touchTolerance field was being changed after the outside event is created<br>
. fixed convertion of ResultSet.getDate returning a day less than the correct<br>
. now Vm.getFreeMemory in Android uses a Java implementation that is better than the previous native one<br>
. fixed memory leak on wm8 painting. added a line to keep track of memory usage<br>
. fixed timezone not being set on win32<br>
. fixed exception's message coming with trash at end<br>
. added Bar.updateSpinner<br>
. added Toast INFINITE_NOANIM and INFINITE<br>
. added SQLiteUtil.shrinkBD<br>
. Collections needs java.util.Random. It is now possible to use it. The tc.Deploy changes it to totalcross.util.Random.<br>
. removed process affinity and now we'll use all processors in multithread in win32<br>
. updated sqlite to 3.8.7.1<br>
. optimized sqlite's findColumn since it was leading to a continuous increment of the object memory chunks.<br>
. added Control.safeUpdateScreen, which is thread-safe. changed all calls to updateScreen in the API to use the new method<br>
. fixed infinite recursion at MultiListBox<br>
. fixed memory leak: dont create Lock just for a StringBuffer; wastes memory since the Lock object is kept on use<br>
. fixed memory leak at Socket. the byte array was not being unlocked at invalidate under some circunstantes<br>
. fixed memory leak on CompressedStream: the byte array was not being unlocked<br>
. added a way to see if the byte array object used to store a native structure is leaking memory - sometimes it was never being unlocked<br>
. added a way to track objects left between two garbage collects.<br>
. now android, ios and win32 uses ~1MB chunk sizes<br>
. fixed leak at Toast: the animation was not being freed and thus its timer was being held into memory.<br>
. fixe memory leak at SQLite. its a very bad idea to store the unclosed statements on a vector. added a variable to see if the mutex is valid<br>
. added a new flag, TRACE_OBJECTS_LEFT_BETWEEN_2_GCS, to detect problems of objects not being collected. Note when this occurs, is something in Java that is holding the objects; the GC has no bugs and it works perfectly if all Java references to an object are null<br>
. fixed jpeg library not using the heap to allocate memory<br>
. dont call Sound.setEnabled or it will change phone settings<br>
. fixed another memory leak, this time at runOnMainThread. added a new version of the method which checks if there's already a class with the same name and removes it.<br>
. fixed deadlocks on sqlite on concurrent threads.<br>
. changed some samples due to the small memory size of wince devices<br>
. added missing retina4 icon for ios<br>
. added 3 more vm tweaks: TWEAK_TRACE_CREATED_CLASSOBJS, TWEAK_TRACE_LOCKED_OBJS and TWEAK_TRACE_OBJECTS_LEFT_BETWEEN_2_GCS<br>
. added Vm.TWEAK_TRACE_METHODS, which can be very handy to help you debug your program on device. CAUTION: program slows down since lots of lines are written to the console.<br>
. added Bar.buttonAlign, which can be LEFT or RIGHT. Defaults to RIGHT<br>
. increased font size to 14 for wince<br>
. fixed camera support on ios<br>
. fixed NPE when date/time is null in SQLite's preparedStatement<br>
. fixed non single-apk not finishing correctly on Android<br>
. fixed Image loading not correctly restoring the frame count on multi-frame images. also fixed bug when loading the comment; the original buffer was being corrupted<br>
. added Button.currentFrame, where you can set the current frame in a multiframe image<br>
. fixed DataStream.readCString not working because the same buffer was being used twice at the same time<br>
. added Bar.getIcon<br>
. fixed tc.Deploy when using synchronized and an exception is thrown.<br>
. now tc.jar includes tcfont.tcz<br>
. fixed npe; geolocator may be null at gpsclose.<br>
. fixed SQLiteUtil not correctly returning the date or datetime values on getStrings. SQLite has a problem (not sure if its a bug) where it returns DATE for both DATE and DATETIME types, so this method returns the correct correspondence: DATE for date and TIME for DATETIME (remember that in TotalCross, a Time object also contains the date).<br>
. updated desktop's FontGenerator to use the new 8bpp antialiase and also the correct default sizes.<br>

<h2>TotalCross 3.08 build 2521</h2>
. fixed totalcross on android 5<br>
. added a new sample for TabbedContainer, using bullets instead of tabs<br>
. fixed MenuBar's background color when popColor is -1<br>
. now tc.Deploy throws an exception if Settings.versionStr contains non-digit nor dot.<br>
. added Graphics.drawThickLine<br>
. decreased default distance of selected pie<br>
. improved drawThickLine. now using on LineChart<br>
. added SQLiteUtil.getStrings(sql)<br>
. now we use dlmalloc over dlmalloc on android. This seems to fix several memory errors that was aborting the vm.<br>
. removed coffecatch stuff<br>
. fixed timezone not being set on win32<br>
. making some buffer bigger to try to prevent messages: xfree - not a memory chunk or chunk's start was overwritten: 2542490 - 0. freed at jni/../axtls/bigint.c, line 153 xfree - not a memory chunk or chunk's start was overwritten: 253c0f8 - 0. freed at jni/../axtls/rsa.c, line 136 xfree - not a memory chunk or chunk's start was overwritten: 253b490 - 0. freed at jni/../axtls/asn1.c, line 713 xfree - not a memory chunk or chunk's start was overwritten: 25431f0 - 0. freed at jni/../axtls/tls1.c, line 282<br>
. Check if timeAvailable is non-negative, so we can ignore the lack of romSerialNumber on Win32 for NORAS.<br>
. fixed infinite recursion at MultiListBox<br>
. Now the ComboBox's popup uses the same font of the ComboBox.<br>
. fixed font not being set on PopupMenu's ListContainer.<br>

<h2>TotalCross 3.07 build 2372</h2>
. fixed Grid.getCheckCount not returning the correct value; fixed Grid.removeAllElements not unsetting the check at the top of the grid.<br>
. now the ComboBox.usePopupMenu can be specified for a single popup<br>
. Control.hadParentScrolled is now public<br>
. prevent NPE at the FlowContainer if there are no controls<br>
. added RadioGroupController.getSize<br>
. undeprecated some SIP constants<br>
. added MultiEdit.lastInsertPos and setCursorPos<br>
. removed need of a thread to the Spinner. See SpinnerSample<br>
. several changes to try to prevent sigsev faults<br>
. fixed crash when using File.exists for a directory that does not exists<br>
. now FileChooserBox allows to browse the contents of external cards<br>
. dont create cursor timer on MultiEdit when it is not editable<br>
. now in CameraSample, we test if there's enough texture memory to show the image and if not, we decrease its size so it can be shown.<br>
. added a way to call the external camera application: passing 999 to the quality parameter<br>
. added TopMenu.AnimationListener so you can track when the unpop really finished due to animation. the TopMenuSample shows how to use the TopMenu.AnimationFinished interface<br>
. fixed grid.sort when the columns have an invalid value. now the invalid value is moved out the sort range, and its sorted as String<br>
. added ScrollPosition.VISIBLE_COUNT. Now the ScrollPosition shows itself for 1 second so the user can see that he can scroll. Based on newer android native l&f<br>
. added a new ComboBox arrow style: ARROWSTYLE_PAGEFLIP. added ComboBox.arrowStyle so you can select between each.<br>
. fixed grid's sort detect that was failing due to invalid string at index 1<br>
. now Toast.show runs on ui thread so you can safely call it from a thread<br>
. fixed LineReader in infinite loop when returnEmptyLines is true<br>
. added Button.imageHeightFactor, so the button's image shrinks based on button's height<br>
. fixed application title not being set for classes that dont directly extends MainWindow<br>
. prevent problems if apptitle has spaces<br>
. added TopMenu.widthInPixels<br>
. now when a bind texture fails, we delete all old textures and try again.<br>
. fixed leak: font texture was not being deleted<br>
. fixed File.createDir throwing exceptions in win32<br>
. now Sound.play respects the system volume to respect the sound/volume icon in taskbar<br>
. added instructions of how to connect to GMail using TotalCross to src/totalcross/net/mail/Message.java<br>
. updated version of TotalCrossAPI in the Android market<br>
. fixed alert not being shown in ios when an unhandled exception was thrown<br>
. now the GPS class throws an IOException if there's already an open instance of it.<br>
. fixed gps being closed during a screen rotation after a first try.<br>
. changed GPSSample to stop the gps thread when pressing back<br>
. dont use hwScale methods if transition effect is on, to prevent the dynamic smooth resize of images during screenshot<br>
. fixed keyboard navigation on opengl devices leading to blue screen<br>
. prevent crash if another thread tries to create an object while we're traversing the images list<br>

<h2>TotalCross 3.06 build 2328</h2>
. fixing transition effects for Window<br>
. implemented support for TRANSITION_FADE to be used in Window. adde Image.applyFade. fixed Graphics.fadeScreen being different on java and device.<br>
. fixed freezing that was occuring at desktop when you use /scale and try to update the screen from a thread.<br>
. added back the SpinnerSample, now teaching how to use it inside a loop.<br>
. added SQLiteUtil.fromSqlDate<br>
. added String.contains(String)<br>
. added TabbedContainer.autoShrinkCaptions<br>
. if window is smaller than specified size in win32, use that window size instead<br>
. fixed File.listFiles not adding a slash at the end of folders. seems to be a regression in the android's api<br>
. added Sound.play to play short mp3/wav files.<br>
. added File.writeAndClose<br>
. increased flick speed by 2*<br>
. fixed crash with fonts when using big font sizes<br>
. removing ScrollPosition timer to avoid keeping them active<br>
. fixed problem of a Toast being left on screen when a tooltip was being displayed.<br>
. fixed Convert.toDouble("2014/03/03") resulting in 2014.0<br>
. fixed pkg file handing when creating win32 and linux folders<br>
. fixed open/close transition effect on win32<br>
. fixed AnimationSample on win32 due to open transition effect.<br>
. fixed Graphics.fadeScreen was different of Image.applyFade<br>
. dont beep if we already have a visual effect of Windows's outside area<br>
. takeScreenShot only take a shot of visible elements. this fixes the shot of the ImageBook taking too much time<br>
. fixed TopMenu sample painting the screenshot at a shifted place; bug introduced with fade transition<br>
. fixed gc being called almost 100x when loading the ImageBook in Win32.<br>
. disable gc while loading images in ImageBookSample to improve performance<br>
. fixed buffer overrun when loading font textures.<br>

<h2>TotalCross 3.05 build 2300</h2>
. fixed a glytch when drawing two pies with different radius<br>
. now if an error occurs during startup we exit the vm in iOS<br>
. an user with android 2.36 reported an out of memory trying to create a texture of 2048x20, so we now limit it to 1024 in Android.<br>
. added Image constructor (byte[] bytes, int length) so one can decrease memory usage by reusing a load buffer when reading lots of images<br>
. improved "no such method" error message to suggest an upgrade or downgrade of the JDK<br>
. fixed deployment of wp8 when not using single apk for android<br>
. added Convert.remove, to remove a set of chars from a String<br>
. fixed problem when a ComboBoxDropDown was inside a Window and clicking outside to close it was closing the window too<br>
. added GridContainer.buttonsHeight, to increase the height of the arrows area<br>
. dont force a gc when loading an image (blocks above 1mb). this greatly improves response on ImageBook<br>
. removed duplicate warning on ios console<br>
. fixed getSmoothScaledInstance and getScaledInstance crashing when image's width or height is 0<br>
. improved javadocs for Spinner class teaching how to make it work on OpenGL platforms.<br>
. fixed problem when the Toast button is being displayed and you swap between containers.<br>
. added Spinner.update, which must be called if you use the Spinner inside of a loop. This makes Spinner usable again.<br>
. fixed white background when you add a transparentBackground's container inside a TopMenu.<br>
. reenabled transition effects, now using takeScreenShot.<br>
. added SQLiteUtil.fixQuote.<br>
. added TRANSITION_FADE, a new transition effect. fixed File and PDBFile samples regarding animation<br>
. fixed Toast when more than one is shown at the same time.<br>
. improved accurateness of font when drawing on an image.<br>
. fixed ImageControl now scaling the image if scaleToFit is true and a new image was set<br>
. added FileChooserBox.showPreview, to show the preview of selected photos (on by default)<br>
. added Settings.optimizeScroll to allow you to disable the scroll optimization using offscreen images<br>
. fixed ImageModifiersSample setting the image's background to black; now it is transparent<br>
. fixed drawRoundGradient not using the clip.<br>
. fixed tc.Deploy in linux when the classname is given using full path and the current working directory is part of that full path<br>

<h2>TotalCross 3.04 build 2289</h2>
. lots of performance improvements in opengl, graphics is now 2x faster, in some android tablets is 3x faster. flicking is much smoother.<br>
. added Toast class used to show a message using fade and transparency. added Button.BORDER_ROUND. Fixed getScreenShot not correctly handling control with transparentBackground. Now Toast is used to show the UI benchmark in TotalCrossAPI<br>
. added TopMenu.autoClose and totalTime. added TopMenu.percWidth, so the user can change the default width<br>
. allow closing the menu when dragging to the opposite open direction<br>
. improved PathAnimation speed accurateness<br>
. changed TotalCrossAPI: added a timer icon so we can test ui speed in all screens<br>
. fixed ImageBook sample for ios<br>
. now the default acceleration in Flick is based in the number of text lines of the device; this improves a lot the responsiveness in tablet devices. added Control.isTablet.<br>
. added ControlAnimation.delayAfterFinish<br>
. fixed some deploy problems when trying to delete the deploy folder<br>
. fixed bug when clicking at the bottom most container of ListContainer sample. (issue 2431)<br>
. fixed onWindowPaintFinished not being called anymore.<br>
. fixed support for custom 1-bpp fonts<br>
. fixed a clipping problem that occured if you place a button at the border of the screen and open an InputBox.<br>
. fixed MultiEdit's sample cutting out the text<br>
. added TabbedContainer.allowFlick, so you can disable flick between containers<br>
. Now ControlBox breaks the text if its too long<br>
. added more buttons on ButtonMenuSample when using tablets<br>
. the screen is now less ugly in ios when taking a photo in landscape mode. couldn't fix the problem.<br>
. fixed Graphics.setClip when the surface is an Image<br>
. takeScreenShot no longer throws an exception; its ignored if there's no memory<br>
. now if the ScrollContainer's bag size is reasonable, we take a screenshot to GREATLY improve performance<br>
. now sending the debug to console window in iOS<br>
. in ios, when it gets out of memory, instead of returning null to the allocation, it kills the application. but before doing so, it calls a didReceiveMemoryWarning method. now we intercept that method and at the next block of memory above 1MB that you try to allocate, an OutOfMemoryError is thrown. Better this than just kill the application<br>
. fixed FTPSample's menu not working<br>
. increased TotalCrossAPI font and window size when running in win32<br>
. fixed Grid's arrows not being drawn<br>
. now PieChart's distanceOfSelectedPie is measured in font height.<br>

<h2>TotalCross 3.03 build 2227</h2>
. improved speed of TabbedContainer drag and flick by drawing the tabs in an image and drawing that image instead of calling the drawing methods. its far smoother than before.<br>
. added ControlAnimation, PathAnimation, FadeAnimation and TopMenu. Added samples.<br>
. if pressed a button and started multitouch, issue a penup event so button can be released<br>
. fixed crash that occurs sometimes when an unhandled exception was caught<br>
. fixed deploy in java 7<br>
. improved graphics performance on android tablets<br>
. decreased distance needed to start flick on tablet devices<br>
. fixed Image.hwScaleW/H not being supported on win32; now we create an image during the draw. it would be slow but win32 hardware makes it fast.<br>
. fixed many bugs on draw/fill pie/arc.<br>

<h2>TotalCross 3.02 build 2201</h2>
. added Window.keyHook to bypass all key listeners and easily handle keys. Used in the TotalCrossAPI sample to handle the back key, and also in Motorola TC60 scanner.<br>
. implemented support for the Motorola scanner TC60.<br>
. fixed screen resolution on highres Windows Phone 8 devices.<br>
. added automatic crash report for totalcross. note that the user must run the app again right after the error happens<br>
. removed the backspace fix of android 4.4.2 bug for handling backspace. All devices must upgrade to 4.4.3 which fixes the bug. added Settings.optionalBackspaceKey, set to &icirc; on android 4.4.2 only, to bypass the backspace key bug of this Android version (you should instruct your costumers to use this key instead of backspace if their version is 4.4.2; you can replace this key by any other one at runtime).<br>
. fixed vm crash when a problem occurs at a very beginning of the startup. fixed alert not showing anything when called at that point<br>
. fixed black images when calling the camera in Android<br>
. updated sqlite to 3.8.5. fixed crash when running on windows due to MSIZE<br>
. enabled continuous focus on android's camera<br>
. fixed npe when running FontGenerator<br>

<h2>TotalCross 3.01 build 2177</h2>
. fixed blue screen that appears when the keyboard is shifted and the device goes to sleep on Android<br>
. now android is built using the old armeabi instruction set, since there's still lots of devices running it. removed areabi-v7a.<br>
. integrated the changelogs into TotalCross' javadoc.<br>
. updated sqlite3 to version 3.8.4.3 updated sqlite-jdbc to version 3.8.2 added ssqlite3_tc.h to make updates of sqlite3 easier.<br>
. fixed html sample 5 sample<br>
. fixed FontSample not working on rotation<br>
. prevent app crash if back is pressed at mainmenu<br>
. prevent aioobe on thread sample<br>
. undeprecated Button.commonGap and fixed it not working during rotations (which was the cause of the deprecation)<br>
. fixed connectionmanager.getLocalHost returning invalid chars.<br>
. use rotation on camera<br>
. fixed crash at startup of serversocket sample when there's no internet connection<br>
. fixed getting ConnectionManager.getLocalHost on 3g connections in android<br>
. fixed corruption when trying to update the user interface in a thread.<br>
. added a common way to create a logging listbox and add items to it safely in the TotalCross API sample<br>
. fixed ServerSocket not allowing a new connection when the stop button is pressed<br>
. added a color scheme to Chart using colors from http://www.mulinblog.com/a-color-palette-optimized-for-data-visualization/<br>
. fixed drawArc connecting endpoints mistakenly<br>
. fixed deploy of pkg files<br>
. fixed maps not working because Geocoder api was retired<br>
. now GoogleMaps shows a point in the location asked to be shown<br>
. Corrected the recursion for creating dirs with File.createDir<br>
. fixed problem when loading a route in single apk<br>
. fixed coordinate convertion on map's route<br>
. now using only old armeabi for Android to support old devices<br>
. improved font readability on low resolution devices<br>
. fixed FileChooserBox returning the last answer if the user reuses the component<br>
. fixed strange chars that appears at Edit on android 4.4.2 and newer devices<br>

<h2>TotalCross 3.0 build 2145</h2>
. prevent aioobe under some undefined situations in Bluetooth.connect<br>
. fixed activation problem when user changes Settings.dataPath<br>
. fixed Whiteboard lags when using inside a Window<br>
. changed ColorChooserBox to update the choosenColor on popup<br>
. fixed rotation and frame resize problems in JavaSE when using /scaled.<br>
. fixed problem on some android lg models where the keyboard would not open again if the user press the special blue-shift-down key to close the keyboard<br>
. fixed ProgressBar showing incorrect bar for very big values for max/min<br>
. fixed TimeBox throwing InvalidNumberException when passing an invalid argument in the constructor<br>
. added ComboBox.enableSearch. <br>
. now PopupMenu's width is smaller if text is small.<br>
. added Radio/Check.textColor <br>
. fixed deployer for wince not copying a provided inf file to the proper folder.<br>
. Fixed bug in Hashtable.copyInto, it would throw a NPE when trying to copy entries without a key.<br>
. fixed AlignedLabelsContainer not using the default fore color<br>
. fixed Edit.setText with a negative value not working when currency mask is on.<br>
. made several changes in the Chart classes<br>
. fixed Settings.romVersion for Android, which was giving 2.29 for Android 2.3<br>
. fixed garbage on Grid.Edit's when inserting text Conflicts:<br>
. fixed Back/Escape key not working in AndroidUI when the focus moves to any control.<br>
. added Settings.isOpenGL<br>
. Created a method that returns the button at the given index of a ButtonMenu. You may customize it.<br>
. added Container.BORDER_ROUNDED. added Container.borderColor<br>
. added CalculatorBox.RangeCheck interface, and Edit.rangeCheck<br>
. added MultiButton class, works like a single-line PushButtonGroup that can be used to replace Check and Radio<br>
. changed disabled textColor for Radio and Check<br>
. fixed PopupMenu Cancel button's size when the screen was in landscape<br>
. improved ScrollContainer speed during dragging<br>
. added Control.SCREENSIZEMIN/MAX which will use the minimum/maximum size of screen<br>
. added Slider.sliderColor<br>
. added Image.getFadedInstance(), to replace the one that takes a parameter as background. Changed all image controls to use this version instead. This version uses the image's alpha-channel. Conflicts:<br>
. added SpinList.wrapAround<br>
. the demo box now appears in all platforms. to deploy to a store (apple or google) you must use the purchased vm.<br>
. trying to bypass problems when jdk is installed in a path with spaces.<br>
. fixed screen not being shifted in landscape mode in android &gt;= 3.0<br>
. fixed all keyboard problems in android regarding the way that the vm uses to detect that the sip was closed, using finishComposingText<br>
. fixed special "keyboard close" key support on lg<br>
. Deploy now supports adding splash images on iOS (launch image). Right now it only supports 640x1136, which is required for iPhone 5. More sizes will be added later.<br>
. added flush to file.close and resize to prevent problems in android<br>
. fixed fillRect not working correctly in Motorola Razr, because this device had a very odd screen width in landscape: 897!<br>
. fixed Convert.toString(0.004,2) returning -0.00<br>
. added Image.createJpg, to write jpeg files. it's supported on Blackberry.<br>
. new font, using android's default font instead of tahoma, now going up to 70<br>
. fixed java's 1.7 message when deploying: Executable name has embedded quote, split the arguments<br>
. Corrected Date.getWeek()<br>
. tooltip now has a rounded border in uiandroid<br>
. added Settings.lineNumber. works on android only (ios has no api for it).<br>
. fixed support for Convert.toDouble(".25")<br>
. fixed MultiEdit not respecting the maxlength when pasting characters.<br>
. fixed MainClass applications not working in linux.<br>
. rewrote Convert.toString(double,n) to fix a strange value of Convert.toString(1.47,2) leading to 1.46<br>
. added DynamicScrollContainer class. A contribution of Tomek Korzeniewski<br>
. implemented Graphics.drawVerticalText. added isVerticalText.<br>
. added Date.getSQLDate to be used with Litebase<br>
. the ComboBox' popup shows the item count in the title<br>
. label's setText splits the text if autoSplit is true<br>
. fixed PopupMenu erasing last selection when a second popup is made<br>
. added PopupList.keepIndexOnCancel, so the index is unchanged if the user press cancel<br>
. fixed Tree throwing NPE if setBackColor was not called.<br>
. decreased listbox selection height<br>
. added Image.hwScaleW/hwScaleH and setHwScaleFixedAspectRatio, which just scales the texture inside the video card using hardware accelleration. works only on opengl platforms<br>
. added MultiTouchEvent/Listeners. added MultiTouchTest sample. added ImageControl.hwScale, to support scale on this control in open gl platforms. scale is not yet perfect (not centering on button press)<br>
. added ImageControl.tempHwScaleW/H to let a single image be displayed with several sizes<br>
. added Control.PARENTSIZEMIN/MAX<br>
. added ImageControl.getImageWidth/Height, scaleToFit added hw methods to Image in order to create shared instances of the same image but with a different hwScaledWidth/Height.<br>
. added Control.PARENTSIZEMIN/MAX,SCREENSIZEMIN/MAX<br>
. added ImageControlSample to UIControls to show the realtime scale working<br>
. implemented support for hwScaleW/H in javase, emulating using scaled and smooth scaled<br>
. created a way to emulate the MultiTouchEvent.SCALE in javaSE: drag the right mouse up to increase scale, release, draw down to decrease scale, release<br>
. fixed Convert.toString(double) for the smaller double value<br>
. fixed GoogleMaps sample using wrong coordinate when it was unable to get gps values<br>
. fixed convertion of MIN_DOUBLE_VALUE (exponent values below -320)<br>
. now using insecure bluetooth connection to prevent the pin message keep appearing all the time<br>
. fixed memory corruption caused by Image.getPixelRow when the passed array was too small. Fixed some array initializations when using such method<br>
. implemented unsecure bluetooth connection on android. pass * before the device's mac address<br>
. fixed ProgressBox with two spinners being created during popup, because MessageBox' reposition was calling onPopup<br>
. fixed freeze in ios that occurs when the keyboard is open and the screen is rotated<br>
. fixed camera's cancel button not closing the screen<br>
. added daylightSavingsMinutes and timeZoneMinutes to replace daylightSavings and timeZone.<br>
. fixed a bug in ZipStream introduced with the forced flush in setSize.<br>
. Corrected bug of tc.Deploy option /o not working properly.<br>
. reset scale to 1 when changing image in ImageControl<br>
. added Edit.cursorThickness to improve accuracy on highres devices<br>
. Corrected a few PieChart problems.<br>
. fixed Date.getTime not including the timezone<br>
. Updated Camera API so that it can use frontal camera.<br>
. updated adb to the one in level 19<br>
. fixed problem not setting the camera parameters for devices that don't have a flash<br>
. don't throw error on File.listFiles, let the user handle it when opening the file.<br>
. now totalcross applications can be deployed to Android Play Store<br>
. setTime() is now deprecated.<br>
. don't throw error on FileChooserBox, let the user handle it when opening the file. (issue 2254)<br>
. added totalcross.util.Enum to make easier to migrate enums used in sqlite<br>
. ported jregex to totalcross<br>
. changed ScrollContainer.reposition to keep the last positions when rotating the screen<br>
. in Socket, use port 443 for https if not specified, fallback to 80 otherwise<br>
. added Time(Date) constructor<br>
. in SQLite, inserts without transaction are very slow on android!<br>
. changed Date.getSQLDate to getSQLString. Added Date.getSQLLong, Time.getSQLString and Time.getSQLLong. fixed Time.getSQLLong not correctly printing the millis<br>
. fixed drawImage not taking the hwScale into consideration (crmdesk 2270)<br>
. fixed rotation problem that was leading to an image with a black box<br>
. changed Grid.resizeMargin to be font-height dependant<br>
. Testing getBuffer, setBuffer and toByteArray methods..<br>
. now fonts are handled as textures, not as points<br>
. fixed grid.qsort and also Convert.qsort when invalid elements are inserted in the array; now they are sorted to the end of the list. added Convert.toInt/toDouble with an extra default value argument.<br>
. added Button.underlinedText, to make a button appear like an html link<br>
. made the listbox more responsive during flick<br>
. optimization to draw the MultiListBox faster. dont draw the selecte items during the draw of unselected items<br>
. fixed Graphics.ellipse at device not drawing correctly when using gradient colors<br>
. added MainWindow.runOnMainThread, to allow a thread update the screen indirectly. Used in Intermec's android scanner.<br>
. Now it's possible to save the secret key on Windows 8.1.<br>
. fixed white line that appears on top of MainWindow after calling setDefaultFont<br>
. Now it is possible to check if there is a sdcard on WP8. But you can't use it yet. It is read-only. It's not possible to store Litebase files inside it. It's possible to copy a database to it, but it's treated differently.<br>
. added CalculatorBox.cOrigDefault<br>
. fixed ScrollPosition not keeping the last position after a scroll<br>
. optimized drawDots for openGL<br>
. Now if Camera.allowRotation is true, the camera will follow the device orientation.<br>
. allow Launcher's scale up to 8x<br>
. deprecated SIP_BOTTOM and SIP_TOP<br>
. dont enqueue a mouse move if the screen is painting. this drastically improves performance on flick<br>
. Now conversions of doubles with many decimals won't throw an exception, but precision is lost. It's better to use BigDecimal.<br>
. The etcDir is no longer required when using the deployer to build libraries.<br>
. Added SQLiteUtil class to make convertion from Litebase to SQLite easier.<br>
. now gps is getting the correct number of satellites. now we also ignore network and only accept gps provider coordinates<br>
. Added DBListBox to SQLite package.<br>
. changed button sizes on Calendar<br>
. prevent 100% cpu on ios<br>
. fixed iOS 7 notification bar being drawn on top of application<br>
. fixed memory leak on android when calling another activity or rotating the display<br>
. increased Grid's arrow sizes for fingertouch devices <br>
. added Grid.showArrows<br>
. In ToolTip, consider the distance when deciding where to place it<br>
. joined all UI samples into UIControls<br>
. changed column/pie charts to work on ScrollContainers<br>
. removed useAA/drawLineAA<br>
. improving performance of Chart<br>
. fixed infinite loop if GridContainer has rows=cols=1. still buggy with rows=2 / cols=1 and vice versa<br>
. improved ImageBook sample to let the user resize the image<br>
. added Control.isObscured, to check if a control is underneath a window. used by ClippedContainer to prevent painting obscured cells.
. fixed isVisibleAndInside using a bound greater than needed<br>
. fixed definetively rotation problems in ios 7<br>
. updated adb to version 1.0.31<br>
. now in ios the packaged files are tested against the date and are overwritten if newer<br>
. added semaphore to prevent crash when multiple threads try to access the mac (method and class) array. this fixes a problem when loading jpegs on a thread<br>
. Grid: fixed stack overflow when sorting double columns with an empty cell ("")<br>
. LatinIME: fails to delete pre-existing characters if view has no InputConnection and uses keycodes to handle input<br>
. changed all references to TotalCrossSDK to TotalCross3. /p now is a single parameter, there's no more release nor demo. litebase is always packaged<br>
. Added activeIcon for TabbedContainer.<br>
. removed armeabi from android, used mostly on legacy devices.<br>
. ignore invalid chars on MultiEdit when using paste<br>
. TabbedContainer: increased size of the tab that remains on screen when its scrolled<br>
. throw a RuntimeException if user is trying to get a font with size 0<br>
. fixed Breakout and Scape game samples and game.Sprite not working on opengl<br>
. joined 26 samples into one, TotalCrossAPI.<br>
. reorganized the scanner sample and drivers<br>
. added Color.getRandomColor<br>
. shows build number on deploy<br>
. fixed application relaunch on Android when its open directly after installing it.<br>